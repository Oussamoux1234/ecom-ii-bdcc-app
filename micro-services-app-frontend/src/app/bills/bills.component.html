<div class="page-header">
    <div>
        <h2 *ngIf="!customerId">Bills</h2>
        <h2 *ngIf="customerId">Customer Bills</h2>
        <p class="page-subtitle" *ngIf="!customerId">View and manage all invoices</p>
        <p class="page-subtitle" *ngIf="customerId">Viewing bills for customer #{{customerId}}</p>
    </div>
    <a routerLink="/customers" class="btn btn-outline-secondary" *ngIf="customerId">
        ‚Üê Back to Customers
    </a>
</div>

<!-- Loading State -->
<div class="spinner-container" *ngIf="!bills">
    <div class="spinner"></div>
</div>

<!-- Empty State -->
<div class="empty-state" *ngIf="bills && bills.length === 0">
    <i class="bi bi-receipt"></i>
    <h3>No bills yet</h3>
    <p *ngIf="customerId">This customer has no invoices</p>
    <p *ngIf="!customerId">No invoices have been created</p>
</div>

<!-- Bills Table -->
<div class="table-container" *ngIf="bills && bills.length > 0" style="background: #fff;">
    <table class="table" style="background: #fff;">
        <thead style="background: #f8fafc;">
            <tr>
                <th style="color: #64748b; font-weight: 600;">Invoice</th>
                <th style="color: #64748b; font-weight: 600;">Date</th>
                <th style="color: #64748b; font-weight: 600;">Customer</th>
                <th style="color: #64748b; font-weight: 600; width: 120px;">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let b of bills" style="background: #fff;">
                <td>
                    <span
                        style="background: #e2e8f0; color: #1e293b; padding: 4px 10px; border-radius: 4px; font-weight: 600; font-size: 0.875rem;">
                        #{{getBillId(b)}}
                    </span>
                </td>
                <td style="color: #1e293b;">
                    {{b.billingDate | date:'mediumDate'}}
                </td>
                <td>
                    <span
                        style="background: #dbeafe; color: #1e40af; padding: 4px 10px; border-radius: 4px; font-weight: 500; font-size: 0.875rem;">
                        Customer #{{b.customerId}}
                    </span>
                </td>
                <td>
                    <button class="btn btn-sm btn-outline-primary" (click)="handleBillDetails(b)">
                        View Details
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>